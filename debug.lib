http://developer.mbed.org/users/simon/code/debug/#dae14046c6f4
